{"version":3,"file":"static/js/653.73c462cb.chunk.js","mappings":"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","sources":["components/Movies/Movies.styled.js","components/Form/Form.styled.js","components/Form/Form.jsx","components/Movies/Movies.jsx"],"sourcesContent":["import styled from '@emotion/styled';\nexport const HomeWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  padding-bottom: 10px;\n`;\nexport const GalleryWrapper = styled.ul`\n  display: grid;\n  max-width: calc(100vw - 48px);\n  grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));\n  grid-gap: 16px;\n  margin-top: 0;\n  margin-bottom: 10px;\n  padding: 0;\n  list-style: none;\n  margin-left: auto;\n  margin-right: auto;\n`;\nexport const GalleryItemWrapper = styled.li`\n  display: flex;\n  flex-direction: column;\n  border-radius: 2px;\n  box-shadow: 0px 1px 3px 0px rgba(0, 0, 0, 0.2),\n    0px 1px 1px 0px rgba(0, 0, 0, 0.14), 0px 2px 1px -1px rgba(0, 0, 0, 0.12);\n  border-radius: 10px;\n  overflow: hidden;\n  height: 100%;\n`;\nexport const GalleryItemImage = styled.img`\n  width: 100%;\n  object-fit: cover;\n  transition: transform 250ms cubic-bezier(0.4, 0, 0.2, 1);\n\n  &:hover {\n    transform: scale(1.03);\n    cursor: zoom-in;\n  }\n`;\nexport const MovieTitle = styled.p`\n  margin: 10px;\n  font-weight: 800;\n  font-size: 20px;\n  text-align: center;\n`;\nexport const LoadMoreButton = styled.button`\n  width: 100%;\n  padding: 10px 20px;\n  background-color: #3f51b5;\n  color: white;\n  font-size: 25px;\n  font-weight: 800;\n  border: none;\n  opacity: 0.8;\n  transition: opacity 250ms ease;\n  &:hover,\n  &:focus {\n    opacity: 1;\n  }\n`;\n","import styled from '@emotion/styled';\nexport const Container = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 10px 20px;\n  background-color: #3f51b5;\n  margin-bottom: 10px;\n`;\n\nexport const FormWrapper = styled.form`\n  display: flex;\n  align-items: center;\n  width: 100%;\n  max-width: 600px;\n  background-color: #fff;\n  border-radius: 3px;\n  overflow: hidden;\n  margin: 0;\n`;\nexport const FormButton = styled.button`\n  display: inline-block;\n  width: 48px;\n  height: 48px;\n  border: 0;\n  background-image: url('https://image.flaticon.com/icons/svg/149/149852.svg');\n  background-size: 40%;\n  background-repeat: no-repeat;\n  background-position: center;\n  opacity: 0.6;\n  transition: opacity 250ms cubic-bezier(0.4, 0, 0.2, 1);\n  cursor: pointer;\n  outline: none;\n  &:hover {\n    opacity: 1;\n  }\n`;\n\nexport const Label = styled.span`\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  clip-path: inset(50%);\n  border: 0;\n`;\n\nexport const Input = styled.input`\n  display: inline-block;\n  width: 100%;\n  font: inherit;\n  font-size: 20px;\n  border: none;\n  outline: none;\n  padding-left: 4px;\n  padding-right: 4px;\n  &::placeholder {\n    font: inherit;\n    font-size: 18px;\n  }\n`;\n","import { useEffect, useState } from 'react';\nimport { ImSearch } from 'react-icons/im';\nimport { useSearchParams } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport {\n  FormButton,\n  Input,\n  Label,\n  FormWrapper,\n  Container,\n} from './Form.styled';\n\nexport default function Form({ onSubmit }) {\n  const [inputValue, setInputValue] = useState('');\n  const [searchParams] = useSearchParams();\n  useEffect(() => {\n    if (searchParams.get('q')) {\n      setInputValue(searchParams.get('q'));\n    }\n  }, [searchParams]);\n  const getMoviesBySearch = e => {\n    e.preventDefault();\n    onSubmit(inputValue);\n  };\n  const inputHandler = e => {\n    setInputValue(e.currentTarget.value);\n  };\n\n  return (\n    <Container>\n      <FormWrapper onSubmit={getMoviesBySearch}>\n        <Input\n          onChange={inputHandler}\n          value={inputValue}\n          className=\"input\"\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search images and photos\"\n        />\n        <FormButton type=\"submit\">\n          <ImSearch />\n          <Label></Label>\n        </FormButton>\n      </FormWrapper>\n    </Container>\n  );\n}\nForm.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n","import { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { toast } from 'react-toastify';\nimport Poster from '../../img/poster.png';\n\nimport Loader from 'components/Loader/Loader.jsx';\nimport { Link, useLocation, useSearchParams } from 'react-router-dom';\nimport {\n  GalleryItemImage,\n  GalleryItemWrapper,\n  GalleryWrapper,\n  LoadMoreButton,\n  MovieTitle,\n} from './Movies.styled';\nimport Form from 'components/Form/Form.jsx';\nimport styled from '@emotion/styled';\n\nconst APP_KEY = `8fcb73b25bea8ff19ff1e6b792856201`;\nconst BASE_URL = `https://api.themoviedb.org/3/`;\nconst CustomLink = styled(Link)`\n  color: black;\n  font-weight: 800;\n  font-size: 20px;\n  text-decoration: none;\n`;\nexport default function Movies() {\n  const [page, setPage] = useState(1);\n  const [query, setQuery] = useState('');\n  const [loader, setLoader] = useState(false);\n  const [response, setResponse] = useState([]);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const location = useLocation();\n  useEffect(() => {\n    if (query.length > 0) {\n      let url = `${BASE_URL}search/movie?api_key=${APP_KEY}&language=en-US&page=${page}&include_adult=false&query=${query}`;\n      sendGetRequest(url);\n      setLoader(true);\n    } else if (query === '' && searchParams.get('q')) {\n      let url = `${BASE_URL}search/movie?api_key=${APP_KEY}&language=en-US&page=${page}&include_adult=false&query=${searchParams.get(\n        'q'\n      )}`;\n      sendGetRequest(url);\n      setLoader(true);\n    } else {\n      return;\n    }\n\n    async function sendGetRequest(link) {\n      try {\n        const resp = await axios.get(link);\n        if (resp.data.results.length === 0 && page !== 1) {\n          toast.info(`You reached last page`);\n        } else if (resp.data.results.length === 0) {\n          toast.info(`Search request ${query} is not found. Please  try again`);\n        }\n        setResponse(prev => [...prev, ...resp.data.results]);\n        setLoader(false);\n      } catch (err) {\n        console.error(err);\n      }\n    }\n  }, [page, query, searchParams]);\n\n  const loadMore = () => {\n    setPage(prev => prev + 1);\n  };\n\n  const handleQuery = data => {\n    if (data === query) {\n      toast.info(`Search request ${data} is already chosen`);\n\n      return;\n    }\n    setResponse([]);\n    setPage(1);\n    setQuery(data);\n    setSearchParams({ q: data });\n  };\n  return (\n    <div>\n      <Form onSubmit={handleQuery} />\n\n      {response.length > 0 ? (\n        <GalleryWrapper>\n          {response.map(value => (\n            <GalleryItemWrapper key={value.id}>\n              <CustomLink to={`${value.id}`} state={{ from: location }}>\n                <GalleryItemImage\n                  src={\n                    value.poster_path\n                      ? `https://image.tmdb.org/t/p/original/${value.poster_path}`\n                      : Poster\n                  }\n                  alt={value.title ? value.title : value.name}\n                  width=\"350px\"\n                />\n                <MovieTitle>\n                  {value.title ? value.title : value.name}\n                </MovieTitle>\n              </CustomLink>\n            </GalleryItemWrapper>\n          ))}\n        </GalleryWrapper>\n      ) : null}\n\n      {loader && <Loader />}\n\n      {query && (\n        <LoadMoreButton onClick={loadMore} type=\"button\">\n          Load more\n        </LoadMoreButton>\n      )}\n    </div>\n  );\n}\n"],"names":["GalleryWrapper","styled","GalleryItemWrapper","GalleryItemImage","MovieTitle","LoadMoreButton","Container","FormWrapper","FormButton","Label","Input","Form","onSubmit","useState","inputValue","setInputValue","useSearchParams","searchParams","useEffect","get","e","preventDefault","onChange","currentTarget","value","className","type","autoComplete","autoFocus","placeholder","APP_KEY","BASE_URL","CustomLink","Link","Movies","page","setPage","query","setQuery","loader","setLoader","response","setResponse","setSearchParams","location","useLocation","length","sendGetRequest","link","axios","resp","data","results","toast","prev","console","error","q","map","to","id","state","from","src","poster_path","Poster","alt","title","name","width","Loader","onClick"],"sourceRoot":""}