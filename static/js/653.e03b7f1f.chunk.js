"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[653],{653:function(n,e,t){t.r(e),t.d(e,{default:function(){return J}});var i,o,a,r,c,s,p,l,u,d,f,h,x=t(982),g=t(861),m=t(885),b=t(168),Z=t(687),v=t.n(Z),w=t(791),y=t(44),k=t(596),j=t(455),_=t(275),S=t(731),z=t(689),q=t(921),C=(q.Z.div(i||(i=(0,b.Z)(["\n  display: flex;\n  flex-direction: column;\n  padding-bottom: 10px;\n"]))),q.Z.ul(o||(o=(0,b.Z)(["\n  display: grid;\n  max-width: calc(100vw - 48px);\n  grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));\n  grid-gap: 16px;\n  margin-top: 0;\n  margin-bottom: 10px;\n  padding: 0;\n  list-style: none;\n  margin-left: auto;\n  margin-right: auto;\n"])))),A=q.Z.li(a||(a=(0,b.Z)(["\n  display: flex;\n  flex-direction: column;\n  border-radius: 2px;\n  box-shadow: 0px 1px 3px 0px rgba(0, 0, 0, 0.2),\n    0px 1px 1px 0px rgba(0, 0, 0, 0.14), 0px 2px 1px -1px rgba(0, 0, 0, 0.12);\n  border-radius: 10px;\n  overflow: hidden;\n  height: 100%;\n"]))),U=q.Z.img(r||(r=(0,b.Z)(["\n  width: 100%;\n  object-fit: cover;\n  transition: transform 250ms cubic-bezier(0.4, 0, 0.2, 1);\n\n  &:hover {\n    transform: scale(1.03);\n    cursor: zoom-in;\n  }\n"]))),T=q.Z.p(c||(c=(0,b.Z)(["\n  margin: 10px;\n  font-weight: 800;\n  font-size: 20px;\n  text-align: center;\n"]))),Y=q.Z.button(s||(s=(0,b.Z)(["\n  width: 100%;\n  padding: 10px 20px;\n  background-color: #3f51b5;\n  color: white;\n  font-size: 25px;\n  font-weight: 800;\n  border: none;\n  opacity: 0.8;\n  transition: opacity 250ms ease;\n  &:hover,\n  &:focus {\n    opacity: 1;\n  }\n"]))),D=t(494),E=q.Z.div(p||(p=(0,b.Z)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 10px 20px;\n  background-color: #3f51b5;\n  margin-bottom: 10px;\n"]))),F=q.Z.form(l||(l=(0,b.Z)(["\n  display: flex;\n  align-items: center;\n  width: 100%;\n  max-width: 600px;\n  background-color: #fff;\n  border-radius: 3px;\n  overflow: hidden;\n  margin: 0;\n"]))),H=q.Z.button(u||(u=(0,b.Z)(["\n  display: inline-block;\n  width: 48px;\n  height: 48px;\n  border: 0;\n  background-image: url('https://image.flaticon.com/icons/svg/149/149852.svg');\n  background-size: 40%;\n  background-repeat: no-repeat;\n  background-position: center;\n  opacity: 0.6;\n  transition: opacity 250ms cubic-bezier(0.4, 0, 0.2, 1);\n  cursor: pointer;\n  outline: none;\n  &:hover {\n    opacity: 1;\n  }\n"]))),L=q.Z.span(d||(d=(0,b.Z)(["\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  clip-path: inset(50%);\n  border: 0;\n"]))),N=q.Z.input(f||(f=(0,b.Z)(["\n  display: inline-block;\n  width: 100%;\n  font: inherit;\n  font-size: 20px;\n  border: none;\n  outline: none;\n  padding-left: 4px;\n  padding-right: 4px;\n  &::placeholder {\n    font: inherit;\n    font-size: 18px;\n  }\n"]))),P=t(184);function R(n){n.getResponse;var e=n.onSubmit,t=(0,w.useState)(""),i=(0,m.Z)(t,2),o=i[0],a=i[1];return(0,P.jsx)(E,{children:(0,P.jsxs)(F,{onSubmit:function(n){n.preventDefault(),e(o),a("")},children:[(0,P.jsx)(N,{onChange:function(n){a(n.currentTarget.value)},value:o,className:"input",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos"}),(0,P.jsxs)(H,{type:"submit",children:[(0,P.jsx)(D.Yfv,{}),(0,P.jsx)(L,{})]})]})})}var B="8fcb73b25bea8ff19ff1e6b792856201",G="https://api.themoviedb.org/3/",I=(0,q.Z)(S.rU)(h||(h=(0,b.Z)(["\n  color: black;\n  font-weight: 800;\n  font-size: 20px;\n  text-decoration: none;\n"])));function J(){var n=(0,w.useState)(1),e=(0,m.Z)(n,2),t=e[0],i=e[1],o=(0,w.useState)(""),a=(0,m.Z)(o,2),r=a[0],c=a[1],s=(0,w.useState)(!1),p=(0,m.Z)(s,2),l=p[0],u=p[1],d=(0,w.useState)([]),f=(0,m.Z)(d,2),h=f[0],b=f[1],Z=(0,S.lr)(),q=(0,m.Z)(Z,2),D=q[0],E=q[1],F=(0,z.TH)();(0,w.useEffect)((function(){if(r.length>0){n("".concat(G,"search/movie?api_key=").concat(B,"&language=en-US&page=").concat(t,"&include_adult=false&query=").concat(r)),u(!0)}else{if(""!==r||!D.get("q"))return;n("".concat(G,"search/movie?api_key=").concat(B,"&language=en-US&page=").concat(t,"&include_adult=false&query=").concat(D.get("q"))),u(!0)}function n(n){return e.apply(this,arguments)}function e(){return(e=(0,g.Z)(v().mark((function n(e){var i;return v().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,y.Z.get(e);case 3:0===(i=n.sent).data.results.length&&1!==t?k.Am.info("You reached last page"):0===i.data.results.length&&k.Am.info("Search request ".concat(r," is not found. Please  try again")),b((function(n){return[].concat((0,x.Z)(n),(0,x.Z)(i.data.results))})),u(!1),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),console.error(n.t0);case 12:case"end":return n.stop()}}),n,null,[[0,9]])})))).apply(this,arguments)}}),[t,r,D]);return(0,P.jsxs)("div",{children:[(0,P.jsx)(R,{onSubmit:function(n){n!==r?(b([]),i(1),c(n),E({q:n})):k.Am.info("Search request ".concat(n," is already chosen"))}}),h.length>0?(0,P.jsx)(C,{children:h.map((function(n){return(0,P.jsx)(A,{children:(0,P.jsxs)(I,{to:"".concat(n.id),state:{from:F},children:[(0,P.jsx)(U,{src:n.poster_path?"https://image.tmdb.org/t/p/original/".concat(n.poster_path):j,alt:n.title?n.title:n.name,width:"350px"}),(0,P.jsx)(T,{children:n.title?n.title:n.name})]})},n.id)}))}):null,l&&(0,P.jsx)(_.Z,{}),(0,P.jsx)(Y,{onClick:function(){i((function(n){return n+1}))},type:"button",children:"Load more"})]})}},455:function(n,e,t){n.exports=t.p+"static/media/poster.2d3e1c4e676730f7a568.png"}}]);
//# sourceMappingURL=653.e03b7f1f.chunk.js.map