"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[653],{653:function(n,t,e){e.r(t),e.d(t,{default:function(){return K}});var i,o,a,r,c,s,p,l,u,d,f,g,h=e(982),x=e(861),m=e(885),b=e(168),Z=e(687),v=e.n(Z),w=e(791),y=e(44),k=e(596),j=e(455),_=e(275),S=e(731),q=e(689),z=e(921),C=(z.Z.div(i||(i=(0,b.Z)(["\n  display: flex;\n  flex-direction: column;\n  padding-bottom: 10px;\n"]))),z.Z.ul(o||(o=(0,b.Z)(["\n  display: grid;\n  max-width: calc(100vw - 48px);\n  grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));\n  grid-gap: 16px;\n  margin-top: 0;\n  margin-bottom: 10px;\n  padding: 0;\n  list-style: none;\n  margin-left: auto;\n  margin-right: auto;\n"])))),A=z.Z.li(a||(a=(0,b.Z)(["\n  display: flex;\n  flex-direction: column;\n  border-radius: 2px;\n  box-shadow: 0px 1px 3px 0px rgba(0, 0, 0, 0.2),\n    0px 1px 1px 0px rgba(0, 0, 0, 0.14), 0px 2px 1px -1px rgba(0, 0, 0, 0.12);\n  border-radius: 10px;\n  overflow: hidden;\n  height: 100%;\n"]))),U=z.Z.img(r||(r=(0,b.Z)(["\n  width: 100%;\n  object-fit: cover;\n  transition: transform 250ms cubic-bezier(0.4, 0, 0.2, 1);\n\n  &:hover {\n    transform: scale(1.03);\n    cursor: zoom-in;\n  }\n"]))),E=z.Z.p(c||(c=(0,b.Z)(["\n  margin: 10px;\n  font-weight: 800;\n  font-size: 20px;\n  text-align: center;\n"]))),T=z.Z.button(s||(s=(0,b.Z)(["\n  width: 100%;\n  padding: 10px 20px;\n  background-color: #3f51b5;\n  color: white;\n  font-size: 25px;\n  font-weight: 800;\n  border: none;\n  opacity: 0.8;\n  transition: opacity 250ms ease;\n  &:hover,\n  &:focus {\n    opacity: 1;\n  }\n"]))),Y=e(494),D=z.Z.div(p||(p=(0,b.Z)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 10px 20px;\n  background-color: #3f51b5;\n  margin-bottom: 10px;\n"]))),F=z.Z.form(l||(l=(0,b.Z)(["\n  display: flex;\n  align-items: center;\n  width: 100%;\n  max-width: 600px;\n  background-color: #fff;\n  border-radius: 3px;\n  overflow: hidden;\n  margin: 0;\n"]))),H=z.Z.button(u||(u=(0,b.Z)(["\n  display: inline-block;\n  width: 48px;\n  height: 48px;\n  border: 0;\n  background-image: url('https://image.flaticon.com/icons/svg/149/149852.svg');\n  background-size: 40%;\n  background-repeat: no-repeat;\n  background-position: center;\n  opacity: 0.6;\n  transition: opacity 250ms cubic-bezier(0.4, 0, 0.2, 1);\n  cursor: pointer;\n  outline: none;\n  &:hover {\n    opacity: 1;\n  }\n"]))),L=z.Z.span(d||(d=(0,b.Z)(["\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  clip-path: inset(50%);\n  border: 0;\n"]))),N=z.Z.input(f||(f=(0,b.Z)(["\n  display: inline-block;\n  width: 100%;\n  font: inherit;\n  font-size: 20px;\n  border: none;\n  outline: none;\n  padding-left: 4px;\n  padding-right: 4px;\n  &::placeholder {\n    font: inherit;\n    font-size: 18px;\n  }\n"]))),P=e(184);function B(n){var t=n.onSubmit,e=(0,w.useState)(""),i=(0,m.Z)(e,2),o=i[0],a=i[1],r=(0,S.lr)(),c=(0,m.Z)(r,1)[0];(0,w.useEffect)((function(){c.get("q")&&a(c.get("q"))}),[c]);return(0,P.jsx)(D,{children:(0,P.jsxs)(F,{onSubmit:function(n){n.preventDefault(),t(o)},children:[(0,P.jsx)(N,{onChange:function(n){a(n.currentTarget.value)},value:o,className:"input",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos"}),(0,P.jsxs)(H,{type:"submit",children:[(0,P.jsx)(Y.Yfv,{}),(0,P.jsx)(L,{})]})]})})}var G="8fcb73b25bea8ff19ff1e6b792856201",I="https://api.themoviedb.org/3/",J=(0,z.Z)(S.rU)(g||(g=(0,b.Z)(["\n  color: black;\n  font-weight: 800;\n  font-size: 20px;\n  text-decoration: none;\n"])));function K(){var n=(0,w.useState)(1),t=(0,m.Z)(n,2),e=t[0],i=t[1],o=(0,w.useState)(""),a=(0,m.Z)(o,2),r=a[0],c=a[1],s=(0,w.useState)(!1),p=(0,m.Z)(s,2),l=p[0],u=p[1],d=(0,w.useState)([]),f=(0,m.Z)(d,2),g=f[0],b=f[1],Z=(0,S.lr)(),z=(0,m.Z)(Z,2),Y=z[0],D=z[1],F=(0,q.TH)();(0,w.useEffect)((function(){if(r.length>0){n("".concat(I,"search/movie?api_key=").concat(G,"&language=en-US&page=").concat(e,"&include_adult=false&query=").concat(r)),u(!0)}else{if(""!==r||!Y.get("q"))return;n("".concat(I,"search/movie?api_key=").concat(G,"&language=en-US&page=").concat(e,"&include_adult=false&query=").concat(Y.get("q"))),u(!0)}function n(n){return t.apply(this,arguments)}function t(){return(t=(0,x.Z)(v().mark((function n(t){var i;return v().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,y.Z.get(t);case 3:0===(i=n.sent).data.results.length&&1!==e?k.Am.info("You reached last page"):0===i.data.results.length&&k.Am.info("Search request ".concat(r," is not found. Please  try again")),b((function(n){return[].concat((0,h.Z)(n),(0,h.Z)(i.data.results))})),u(!1),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),console.error(n.t0);case 12:case"end":return n.stop()}}),n,null,[[0,9]])})))).apply(this,arguments)}}),[e,r,Y]);return(0,P.jsxs)("div",{children:[(0,P.jsx)(B,{onSubmit:function(n){n!==r?(b([]),i(1),c(n),D({q:n})):k.Am.info("Search request ".concat(n," is already chosen"))}}),g.length>0?(0,P.jsx)(C,{children:g.map((function(n){return(0,P.jsx)(A,{children:(0,P.jsxs)(J,{to:"".concat(n.id),state:{from:F},children:[(0,P.jsx)(U,{src:n.poster_path?"https://image.tmdb.org/t/p/original/".concat(n.poster_path):j,alt:n.title?n.title:n.name,width:"350px"}),(0,P.jsx)(E,{children:n.title?n.title:n.name})]})},n.id)}))}):null,l&&(0,P.jsx)(_.Z,{}),r&&(0,P.jsx)(T,{onClick:function(){i((function(n){return n+1}))},type:"button",children:"Load more"})]})}},455:function(n,t,e){n.exports=e.p+"static/media/poster.2d3e1c4e676730f7a568.png"}}]);
//# sourceMappingURL=653.73c462cb.chunk.js.map